<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üí∏ –°—É—á–∞—Å–Ω–∏–π —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∏–π —Ç—Ä–µ–∫–µ—Ä</title>
<style>
  body {
    margin: 0;
    font-family: "Inter", sans-serif;
    background: #f2f4f8;
    color: #2c3e50;
    transition: background 0.3s;
  }

  header {
    text-align: center;
    padding: 40px 20px 20px 20px;
    font-size: 2em;
    font-weight: 700;
  }

  .container {
    max-width: 500px;
    margin: 0 auto;
    padding: 0 20px 40px 20px;
  }

  input, button {
    width: 100%;
    padding: 15px 20px;
    margin: 10px 0;
    border-radius: 12px;
    border: none;
    font-size: 1em;
    outline: none;
  }

  input {
    background: #e6eaf0;
  }

  button {
    background: #2980b9;
    color: white;
    cursor: pointer;
    font-weight: 600;
    transition: background 0.3s;
  }
  button:hover {
    background: #1c5980;
  }

  #image {
    width: 100%;
    border-radius: 15px;
    margin: 15px 0;
    display: block;
  }

  #expensesList {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  #expensesList li {
    padding: 10px 0;
    border-bottom: 1px solid #dfe3e8;
    display: flex;
    justify-content: space-between;
  }

  .balance {
    text-align: center;
    font-size: 1.5em;
    font-weight: 700;
    padding: 15px;
    margin-top: 20px;
    border-radius: 15px;
    background: #e6eaf0;
  }

  .hidden {
    display: none;
  }

</style>
</head>
<body>

<header>üí∏ –ú—ñ–π —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∏–π —Ç—Ä–µ–∫–µ—Ä</header>
<div class="container">

  <!-- 1. –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è -->
  <div id="registrationCard">
    <input type="email" id="email" placeholder="–í–≤–µ–¥—ñ—Ç—å email –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤–∏—Ç—Ä–∞—Ç" required>
    <button id="registerBtn">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</button>
  </div>

  <!-- 2. –û—Å–Ω–æ–≤–Ω—ñ –±–ª–æ–∫–∏ -->
  <div id="mainContent" class="hidden">

    <!-- –ü–æ—Ç–æ—á–Ω–∏–π –±–∞–ª–∞–Ω—Å -->
    <input type="number" id="currentBalance" placeholder="–í–≤–µ–¥—ñ—Ç—å –±–∞–ª–∞–Ω—Å (‚Ç¥)" value="0">
    <button id="updateBalance">–û–Ω–æ–≤–∏—Ç–∏ –±–∞–ª–∞–Ω—Å</button>

    <!-- –î–æ–¥–∞–≤–∞–Ω–Ω—è –≤–∏—Ç—Ä–∞—Ç–∏ -->
    <button id="addExpenseButton">–î–æ–¥–∞—Ç–∏ –≤–∏—Ç—Ä–∞—Ç—É</button>
    <button id="removeExpenseButton">–í–∏–¥–∞–ª–∏—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—é</button>

    <!-- –°–ø–∏—Å–æ–∫ –≤–∏—Ç—Ä–∞—Ç -->
    <ul id="expensesList"></ul>

    <!-- –ü—ñ–¥—Å—É–º–∫–æ–≤–∏–π –±–∞–ª–∞–Ω—Å -->
    <div class="balance" id="styledBalance">–ë–∞–ª–∞–Ω—Å: ‚Ç¥0</div>

    <!-- –ö–∞—Ä—Ç–∏–Ω–∫–∞ -->
    <img id="image" src="https://placekitten.com/500/300" alt="–§—ñ–Ω–∞–Ω—Å–∏">
    <button id="changeImage">–ó–º—ñ–Ω–∏—Ç–∏ –∫–∞—Ä—Ç–∏–Ω–∫—É</button>

    <!-- –ó–º—ñ–Ω–∞ —Ñ–æ–Ω—É -->
    <button id="changeBackgroundColor">–ó–º—ñ–Ω–∏—Ç–∏ —Ñ–æ–Ω</button>

  </div>
</div>

<script>
  // 1Ô∏è‚É£ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
  document.getElementById("registerBtn").onclick = function() {
    const email = document.getElementById("email").value;
    const pattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if(!pattern.test(email)) {
      alert("–ù–µ–≤—ñ—Ä–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ—ó –ø–æ—à—Ç–∏!");
    } else {
      alert("–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —É—Å–ø—ñ—à–Ω–∞! Email: " + email);
      document.getElementById("registrationCard").classList.add("hidden");
      document.getElementById("mainContent").classList.remove("hidden");
    }
  };

  // 2Ô∏è‚É£ –ü–æ—Ç–æ—á–Ω–∏–π –±–∞–ª–∞–Ω—Å
  function updateBalance() {
    const balance = parseFloat(document.getElementById("currentBalance").value)||0;
    updateSummary(balance);
  }
  document.getElementById("updateBalance").onclick = updateBalance;

  // 3Ô∏è‚É£ –î–æ–¥–∞–≤–∞–Ω–Ω—è –≤–∏—Ç—Ä–∞—Ç–∏
  document.getElementById("addExpenseButton").onclick = function() {
    const name = prompt("–ù–∞–∑–≤–∞ –≤–∏—Ç—Ä–∞—Ç–∏:");
    const amount = parseFloat(prompt("–°—É–º–∞ –≤–∏—Ç—Ä–∞—Ç–∏ (‚Ç¥):"));
    if(name && !isNaN(amount)) {
      const li = document.createElement("li");
      li.innerHTML = `${name} <span>‚Ç¥${amount.toFixed(2)}</span>`;
      li.dataset.amount = amount;
      document.getElementById("expensesList").appendChild(li);
      updateBalance();
    }
  };

  // 4Ô∏è‚É£ –í–∏–¥–∞–ª–µ–Ω–Ω—è –≤–∏—Ç—Ä–∞—Ç–∏
  document.getElementById("removeExpenseButton").onclick = function() {
    const list = document.getElementById("expensesList");
    if(list.lastChild) list.removeChild(list.lastChild);
    updateBalance();
  };

  // 5Ô∏è‚É£ –ü—ñ–¥—Å—É–º–∫–æ–≤–∏–π –±–∞–ª–∞–Ω—Å
  function updateSummary(baseBalance) {
    const totalExpenses = Array.from(document.querySelectorAll("#expensesList li")).reduce((sum,li)=>sum+parseFloat(li.dataset.amount),0);
    const final = baseBalance - totalExpenses;
    document.getElementById("styledBalance").innerText = "–ë–∞–ª–∞–Ω—Å: ‚Ç¥" + final.toFixed(2);
  }

  // 6Ô∏è‚É£ –ö–∞—Ä—Ç–∏–Ω–∫–∞
  document.getElementById("changeImage").onclick = function() {
    const img = document.getElementById("image");
    img.src = img.src.includes("kitten") ? "https://placebear.com/500/300" : "https://placekitten.com/500/300";
  };

  // 7Ô∏è‚É£ –ó–º—ñ–Ω–∞ —Ñ–æ–Ω—É
  document.getElementById("changeBackgroundColor").onclick = function() {
    const colors = ["#f2f4f8","#dfe6e9","#f0f9ff","#e8f8f5","#fff3e0"];
    document.body.style.backgroundColor = colors[Math.floor(Math.random()*colors.length)];
  };
</script>

</body>
</html>
